<!doctype html>
<html>
<head>
<title>Test #1</title>
<!-- Include URL to the latest version of WebTorrent -->
<script src="https://cdn.jsdelivr.net/npm/webtorrent@latest/webtorrent.min.js"></script>
<meta charset="utf-8"/>
</head>
  <body>
    <h1>WebTorrent Stealth Test #1</h1>

    <script>
      // Create WebTorrent client
      var torrentId = "magnet:?xt=urn:btih:b077921b8f9a7b85a920b8f55d94f2f8a4d90938&dn=example_music_track.mp3&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com"
      var cl = new WebTorrent();
      var dl = "";

      // On error, do nothing
      cl.on('error', function (err) {
      })

      // Add magnet link to client, download example_music_track.mp3 and execute callback function "onTorrent"
      cl.add(torrentId, onTorrent)
      
      // Get URL of file on completion
      function onTorrent(torrent) {
        torrent.on('done', function () {
          torrent.files.forEach(function (file) {
            file.getBlobURL(function (err, url) {
              if (err) throw err
              dl = "URL: " + url;
            })
          })
        })
      }
    </script>
  </body>
</html>
